# Java 프로그램 실행 구조



## 소스코드

<aside>
💡 개발자가 만드는 프로그래밍 코드
</aside>

- 개발자가 알아 볼 수 있는 형태로 만들게 되는데 이는 향 후에 기계가 알아볼 수 있는 형태로 변경이 되어야지만 실행할 수 있다



## 기계어

<aside>
💡 프로그램을 실행하는 시스템이 알아볼 수 있는 형태로 만들어진, 기계 입장에서의 소스코드
</aside>

- 시스템은 기계어로 되어져 있는 코드를 해독하여 작업을 하게된다
- 시스템마다 다른 체계로 되어져 있어 시스템에 맞는 기계어로 제작이 되어야지만 시스템이 인식하여 실행할 수 있다



## 컴파일러

<aside>
💡 개발자가 만든 소스 코드를 시스템이 인식할 수 있는 형태로 만들어주는 소프트웨어

</aside>

- 컴파일 : 소스코드를 시스템이 인식할 수 있는 형태로 바꾸는 작업
- 컴파일러 : 컴파일을 해주는 소프트웨어
- 컴파일을 하여 만들어지는 결과물은 언어마다 다를 수 있다
  
    -Java는 시스템이 인식할 수 있는 언어 체계인 기계어가 아닌 JVM이 인식할 수 있는 바이트 코드로 만들어진다
    
     -바이트 코드는 프로그램이 실행될 때 JVM에 의해 기계어로 변경되어 실행된다
    
- 코드의 오류를 지적해준다
    - 컴파일 과정에서 코드의 변환을 위해 문법 검사를 먼저 하게 되는데 이를 통해 잘못 만들어진 코드를 개발자가 수정할 수 있도록 잘못된 부분을 지적해준다
      -지정된 문법에 의해 만들어진 소스 코드만이 컴파일을 통해 JVM이 인식할 수 있는 형태로 변경이 될 수 있다
- 컴파일 명령어 : javac.exe xxxx.java
- 컴파일 후 만들어지는 결과물 : xxxx.class



## 인터프리터

- 컴파일 후 만들어지는 결과물이 기계어 코드라면 바로 실행이 가능하지만 운영되는 시스템마다 인식하는 기계어가 다르다는 점 때문에 시스템에 맞는 프 로그램을 다 만들어줘야 한다
- Java 언어는 컴파일 후 기계어로 만들어지는 것이 아니라 바이트 코드로 되어있는 .class 파일로 만들어진다

<aside>
💡 .class 파일의 코드를 실행 시 운영체제에 맞는 기계어로 변경을 해주는 것

</aside>

- Java에서 만들어진 class 파일의 코드 내용을 실행되는 시스템에 맞게 실행 시 기계어로 변경되어 실행됨
→ 프로그램을 개발할 때는 한 번만 만들고 실행 시 JVM에 의해 시스템에 맞는 기계어로 변환이 되기 때문에 시스템에 독립적으로 운영될 수 있다
- 인터프리터 명령어 : java.exe xxxx
- 프로그램을 실행할 때는 class 파일들 중에 main을 가지고 있는 클래스의 이름을 적어주면 실행된다



## 자바 가상 머신 (JVM : Java Virtual Machine)

<aside>
💡 자바 바이트 코드를 실행할 수 있는 소프트웨어

</aside>

- 인터프리터를 통해 실행 시 실행되는 시스템에 맞는 기계어로 변환하여 프로그램을 실행한다
- JVM 특성
    - 스택 기반의 가상 머신
    - 단일 상속 형태의 객체 지향 프로그래밍을 가상 머신 수준에서 구현
    → 빠르고 정확한 동작
    - 포인터를 지원하지만 주소값을 임의로 조작 가능한 포인터 연산은 불가능
    - 가비지 컬렉션 사용
    → 사용한 메모리 영역을 JVM이 관리
    - 모든 기본 타입의 정의를 명확히 함으로써 플랫폼 독립성 보장
    - 데이터 흐름 분석에 기반한 자바 바이트 코드 검증기를 통해 프로그램 실행시 발생되는 모든 위반 행위를 막아준다
- JVM 장점
    - 플랫폼의 독립성
    - 바이트 코드 실행의 안전성
    - 높은 코드의 밀도
    - 낮은 대역폭을 갖는 환경에서 요긴하다
    -대역폭 : 특정한 기능을 수행할 수 있는 주파수의 범위
- JVM 단점
    - 가상 컴퓨터 필요
    -가상 컴퓨터 : 실제 컴퓨터와 동일한 구조를 가지고 있는 소프트웨어
    - 가상 컴퓨터의 설치를 위해 여분의 기억 공간 필요
    - 가상 컴퓨터의 실행을 위해 CPU 자원의 일부가 소모됨
    - 실행 속도의 저하



## 자바 프로그램 실행 과정

1. 자바 실행 명령 전송
-전송 방식은 사용되는 플랫폼에 따라 다를 수 있다
-실행 명령어 : java 클래스 이름
2. java 이후에 적어 주는 이름은 컴파일을 통해 만들어지는 class 파일을 지정하게 됨
-이 class 파일은 반드시 main이라는 요소를 가지고 있어야한다
3. JVM은 지정한 class 파일에서 main이라는 기능을 찾게됨
-main이 있다면 main 내부의 코드를 작동시켜 프로그램을 실행하게 된다
-main이 없다면 오류 메세지를 보여주면서 실행이 중단된다
- java 이 후에 클래스 이름을 적어주는 것은 JVM에게 이 클래스 파일에 main이 있다고 알려주는 것이다



## main 코드

```java
public class 클래스 이름 {
	publiv static void main(String [] args){
		코드 내용
	}
}
```

- 메인 함수 : 모든 코드의 시작점
- 메인 함수는 규칙을 지켜서 작성